# Medarot-P
- Medarot-Pは、ゲームシリーズ「メダロット」のバトルシステム(ロボトル)をPythonでのバイブコーディングで再現する試みです。
- ライブラリとしてPygameを利用しています。

# 開発方針
- ECSアーキテクチャ(Entity Component System)を徹底し、データとロジックを分離すること。
- パフォーマンス向上のために行数が増えるような最適化は避け、シンプルで明快なこと。
- 責務分離の徹底と、簡潔な依存方向を実現するディレクトリ構造を維持すること。
- ゲーム機能とコード責務を明確にしてファイルを管理すること。

# アーキテクチャ原則
- **Component = 純粋なデータ**: メソッドを持たず、状態のみを保持する。
- **System = 振る舞いのみ**: 状態を持たず、特定のコンポーネントの組み合わせを持つエンティティに対してのみ処理を行う。
- **Entity = IDのみ**: 整数(int)として表現し、コンポーネントの入れ物としての役割に限定する。
- **World = データベース**: 全エンティティとコンポーネントを一元管理する。

# ファイル命名例(必要に応じて追記・変更)
- `_component.py`: 純粋なデータ構造
- `_system.py`: Worldの更新、状態遷移のトリガー
- `_logic.py`: 計算ロジック、副作用のない純粋関数
- `_registry.py`: 各種振る舞いのカタログ、Strategyパターンの管理・提供
- `_service.py`: 複数エンティティにまたがる複雑な操作
- `_view_model.py`: プレゼンテーション用データ変換、View用の状態生成
- `_factory.py`: エンティティやコンポーネントの構築
- `_helper.py`: 汎用ユーティリティ

# 戦闘システム
- 行動選択後にチャージフェーズ、行動実行後にクールダウンフェーズを持つ、変則的なATB
- ウェイト式ATBのため、メッセージ表示中やカットイン演出は時間が停止する
- ゲージ進行状況は、アイコンの位置変化で表現される
- メダロットのパーツ（頭部、右腕、左腕、脚部）ごとにステータスを管理
- 各メダロットが性格に応じてパーツごとにターゲットを選定し、コマンダーが最終的な行動パーツを決定する
- 装着メダルとパーツの属性が一致している場合、そのパーツのステータスにボーナスが加わる
- 攻撃側メダル属性と使用パーツ属性、防御側メダル属性の相性により、戦闘計算にボーナスが加わる

# ゲームルール
- 勝利条件: 相手チームのリーダー（各チームの1機目）の機能停止（頭部破壊）
- 攻撃時に使用するパーツを選択可能。破壊されたパーツは使用不可
- プレイヤーチーム（3体） vs エネミーチーム（3体）